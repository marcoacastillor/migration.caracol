BROKER SCHEMA co.com.caracol.services.facade

DECLARE ns2 NAMESPACE 'http://www.caracoltv.com.co/TI/seguridad/autentica/';

CREATE COMPUTE MODULE AutenticaUsuario_RQ_CreateErrorMessage
	CREATE FUNCTION Main() RETURNS BOOLEAN
	BEGIN
		CREATE FIELD OutputRoot.XMLNSC.ns2:SeguridadAutenticaResponse;
		DECLARE refOut REFERENCE TO OutputRoot.XMLNSC.ns2:SeguridadAutenticaResponse;
		
		--Declarar variables
		DECLARE codeError INTEGER 0;
		DECLARE nameError, descError CHARACTER '';
		
		--Si existe ExceptionList
		CALL co.com.caracol.integration.commos.getDescriptionExceptionList(InputExceptionList,codeError,nameError,descError);	
		
		SET refOut.UsuarioAutenticarResult = nameError || ' : ' || CAST(codeError AS CHARACTER) || ' : ' || descError;
		
		RETURN TRUE;
	END;
END MODULE;